<script>
    const text = "Hello World!!";
    const speed = 100;
    let i = 0;
    const target = document.getElementById("type");
    const editorFrame = document.getElementById("editorFrame");
    const windowControls = document.getElementById("windowControls");
    const editorText = document.getElementById("editorText");
    const frameRect = document.getElementById("frameRect");
    let typingFinished = false;

    function typeText() {
      if (i === 0) {
        target.textContent = "";
      }
      if (i < text.length) {
        target.textContent += text.charAt(i);
        i++;
        setTimeout(typeText, speed);
      } else {
        typingFinished = true;
        document.documentElement.style.overflowY = "auto";
      }
    }

    function startBlinkingBeforeTyping(duration, callback) {
      target.classList.add("blinking");
      setTimeout(() => {
        callback();
      }, duration);
    }

    window.onload = () => {
      startBlinkingBeforeTyping(1400, () => {
        typeText();
      });
    };

    window.addEventListener('scroll', () => {
      if (typingFinished) {
        document.body.style.backgroundColor = '#4b0082';
        editorFrame.style.display = 'block';
        windowControls.style.display = 'flex';

        // 黒塗りをスクロール後2秒で実行
        setTimeout(() => {
          frameRect.classList.add('filled');
          editorText.classList.add('show');
        }, 2000);
      }
    });
  </script>
