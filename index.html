<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D UI with Tailwind - 電気代</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-start justify-center p-10 relative">

  <!-- メインカード -->
  <div class="relative w-[500px] bg-white rounded-2xl shadow-xl border-2 border-indigo-300 z-10 p-5">

    <!-- メニュー -->
    <button class="absolute top-3 right-3 text-xl" onclick="toggleMenu()">
      ⋯
    </button>
    <div id="menu1"
         class="absolute top-12 right-3 bg-black text-white rounded-xl shadow-lg min-w-[180px] py-2 hidden z-50 flex-col space-y-1 text-sm">
      <div class="px-4 py-2 hover:bg-gray-800 cursor-pointer">View credentials</div>
      <div class="px-4 py-2 hover:bg-gray-800 cursor-pointer">Replace</div>
      <div class="px-4 py-2 hover:bg-gray-800 cursor-pointer">Detach database</div>
    </div>

    <!-- タイトル -->
    <div class="font-semibold text-lg mb-4">光熱費：電気代</div>

    <!-- 入力フォーム -->
    <div class="grid grid-cols-3 gap-3 mb-4 text-sm">
      <input type="month" id="month" class="border rounded-md px-2 py-1" placeholder="年月" />
      <input type="number" id="amount" class="border rounded-md px-2 py-1" placeholder="金額" />
      <input type="date" id="inputDate" class="border rounded-md px-2 py-1" placeholder="入力日" />
    </div>
    <button onclick="addElectricityRow()" class="mb-4 px-4 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition">追加</button>

    <!-- 表 -->
    <table class="w-full text-sm text-gray-700 border-t border-gray-300">
      <thead>
        <tr class="bg-gray-100">
          <th class="py-2">年月</th>
          <th class="py-2">金額 (円)</th>
          <th class="py-2">入力日</th>
        </tr>
      </thead>
      <tbody id="electricity-table">
        <!-- データがここに入る -->
      </tbody>
    </table>

  </div>

  <!-- スクリプト -->
  <script>
    function toggleMenu() {
      const menu = document.getElementById("menu1");
      menu.classList.toggle("hidden");
    }

    // メニュー閉じる処理
    document.addEventListener("click", function (e) {
      const menu = document.getElementById("menu1");
      const button = document.querySelector("button");
      if (!menu.contains(e.target) && !button.contains(e.target)) {
        menu.classList.add("hidden");
      }
    });

    // 表に行を追加
    function addElectricityRow() {
      const month = document.getElementById("month").value;
      const amount = document.getElementById("amount").value;
      const inputDate = document.getElementById("inputDate").value;
      const tableBody = document.getElementById("electricity-table");

      if (month && amount && inputDate) {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td class="py-2 text-center">${month}</td>
          <td class="py-2 text-center">${parseInt(amount).toLocaleString()}</td>
          <td class="py-2 text-center">${inputDate}</td>
        `;
        tableBody.appendChild(row);

        // 入力クリア
        document.getElementById("month").value = "";
        document.getElementById("amount").value = "";
        document.getElementById("inputDate").value = "";
      } else {
        alert("すべての項目を入力してください");
      }
    }
  </script>
</body>
</html>
